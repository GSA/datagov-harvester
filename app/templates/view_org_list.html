{% extends 'base.html' %}

{% block title %}
<title>Organization List</title>
{% endblock %}

{% block content %}
<div class="bg-base-lighter padding-2 radius-md margin-bottom-2">
  <h2>Find an Organization</h2>
  <div role="region" aria-label="Component search" aria-atomic="true" class="margin-top-1">
    <label for="icon-filter">Filter by name and keyword</label>
    <input class="usa-input" id="icon-filter" type="text">
    <p class="text-base-darker margin-top-1 margin-bottom-0" aria-live="polite"><span id="component-count"></span></p>
  </div>
  {% if session['user'] %}
  <div class="margin-top-3">
    <ul class="usa-list--unstyled">
      <li><a href="{{ url_for('api.add_organization') }}" class="usa-button">
          Add Organization</a></li>
    </ul>
  </div>
  {% endif %}
</div>

<ul class="usa-card-group">
  {% for org in data.organizations %}
  <li class="usa-card site-component-card grid-col-6 tablet:grid-col-4" data-meta="{{org.name}}">
    <div class="usa-card__container">
      <div class="usa-card__header">
        <h4 class="usa-card__heading">{{org.name}}</h4>
      </div>
      <div class="usa-card__media">
        <div class="usa-card__img">
          <img src="{{org.logo}}" alt="{{org.name}} logo" />
        </div>
      </div>
      <div class="usa-card__body"></div>
      <div class="usa-card__footer">
        <a href="{{ url_for('api.view_organization', org_id=org.id) }}"
          class="usa-button usa-button--outline">Details</a>
      </div>
    </div>
  </li>
  {% endfor %}
</ul>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/filter.js') }}"></script>"
{% endblock %}
